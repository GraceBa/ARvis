<!doctype HTML>
<html>
<script src="https://cdn.jsdelivr.net/gh/GraceBa/ARvis/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/GraceBa/ARvis/DNA/aframe-ar.js"></script>

<body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;' foo>

        <!-- Custom js events -->
        <!-- Toggle model visibility -->
        <div style='position: fixed; bottom: 10px; width:100%; text-align: center; z-index: 1;'>
            <input onclick="toggleButton()" id="myInputButton" type="button" value="Hide figure">
        </div>
        <script type="text/javascript">
                function toggleButton(){
			        if(document.getElementById('myInputButton').value == 'Hide figure'){
			            var label = 'Show figure';
			            //document.querySelector('a-marker').object3D.visible = true;
			            document.getElementById('VisibleImage').innerHTML = '';
				    }
				    else{
			            var label = 'Hide figure';
			            //document.querySelector('a-marker').object3D.visible = false;
			            document.getElementById('VisibleImage').innerHTML = '<a-entity obj-model="obj: #dna_chainAobj; mtl: #dna_chainAmtl;" shadow="recieve: false;" position="0 1 0" scale="1" id="dnaA" foo></a-entity> <a-entity obj-model="obj: #dna_chainBobj; mtl: #dna_chainBmtl;" shadow="recieve: false;" position="0 1 0" scale="1" id="dnaB"></a-entity>';
				    }
			        document.getElementById('myInputButton').value = label;
                }
        </script>

        <!-- control scale and rotation 
        <script src="https://cdn.jsdelivr.net/gh/GraceBa/ARvis/DNA/hammer.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/GraceBa/ARvis/DNA/controlHammer.js"></script> -->


        <!-- Import object assets -->
        <a-assets>
            <!-- Chain A -->
            <a-asset-item id="dna_chainAmtl" src="https://raw.githubusercontent.com/GraceBa/ARvis/master/DNA/dna_chainA.mtl"></a-asset-item>
            <a-asset-item id="dna_chainAobj" src="https://raw.githubusercontent.com/GraceBa/ARvis/master/DNA/dna_chainA.obj"></a-asset-item>

            <!-- Chain B -->
            <a-asset-item id="dna_chainBmtl" src="https://raw.githubusercontent.com/GraceBa/ARvis/master/DNA/dna_chainB.mtl"></a-asset-item>
            <a-asset-item id="dna_chainBobj" src="https://raw.githubusercontent.com/GraceBa/ARvis/master/DNA/dna_chainB.obj"></a-asset-item>
        </a-assets>

        <!-- Recognise hex image -->
        <a-marker id="VisibleImage" preset="custom" type="pattern" url="https://raw.githubusercontent.com/GraceBa/ARvis/master/hexP.patt">
            <!-- Overlay dna -->
            <a-entity obj-model="obj: #dna_chainAobj; mtl: #dna_chainAmtl;" shadow="recieve: false;" position="0 1 0" scale="1" id="dnaA"></a-entity>
            <a-entity obj-model="obj: #dna_chainBobj; mtl: #dna_chainBmtl;" shadow="recieve: false;" position="0 1 0" scale="1" id="dnaB"></a-entity>
        </a-marker>

        <!-- Initiate camera -->
        <a-entity camera></a-entity>
    </a-scene>

</body>
</html>
